# Applicable rules to SonarQube

Listing of rules applicable to SonarQube tool and easily scannable on a source code.

## Conditions of the applicable rules

An applicable rule must follow these conditions:

- It must be statically detectable
- It must be easily scriptable and return a single response (boolean: TRUE/FALSE)

## Rules

Web-oriented rules are based on :

- `EWBP#` [Ecoconception Web / Les 115 bonnes pratiques 🇫🇷](https://github.com/cnumr/best-practices)
- `HSDDS#` [Handbook of Sustainable Design of Digital Services](https://gr491.isit-europe.org/en/)
- `RGESN#` [Référentiel général d'écoconception de services numériques 🇫🇷](https://ecoresponsable.numerique.gouv.fr/publications/referentiel-general-ecoconception/)

All rules listed above are not applicable on scanner tool.

We try to apply these rules to each supported language, so we maintain a matrix to follow current development :

## Rules support matrix by techno

Each rule need to be develop for each technology to be available in SonarQube plugin.
Here is the list of rules already available in ecoCode project code.

* ✅ Rule included in current version of ecoCode
* 🚫 Non applicable rule

| Reference                                                                            | Title                                                            | Java | Php | Javascript | Python | Rust | ... | Category                         | Priority | Weighting | Level of complexity of realization | Example / Comment                                                                                                                                                                                                       |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------|------|-----|------------|--------|------|-----|----------------------------------|----------|-----------|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [EWBP#19](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_019_fr.md) | Use official social media sharing buttons                        | 🚫   | 🚫  |            | 🚫     | 🚫   |     | Technical / Design               | 2        | 2         |                                    |                                                                                                                                                                                                                         |
| [EWBP#21](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_021_fr.md) | Include a CSS file containing directives not used on a page      | 🚫   | 🚫  | 🚫         | 🚫     | 🚫   |     | Templating / CSS                 | 1        | 3         |                                    | To reduce the number of HTTP requests                                                                                                                                                                                   |
| [EWBP#25](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_025_fr.md) | Non-grouped similar CSS declarations                             | 🚫   | 🚫  | ✅          | 🚫     | 🚫   |     | Templating / CSS                 | 1        | 3         |                                    | Do not write : `h1 { background-color: gray; color: navy; } h2 { background-color: gray; color: navy; } h3 { background-color: gray; color: navy; }` but rather : `h1, h2, h3 { background-color: gray; color: navy; }` |
| [EWBP#26](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_026_fr.md) | CSS shorthand notations not used                                 | 🚫   | 🚫  | 🚫         | 🚫     | 🚫   |     | Templating / CSS                 | 1        | 3         |                                    | Do not write : `margin-top:1em; margin-right:0; margin-bottom:2em; margin-left:0.5em;` but rather : `margin:1em 0 2em 0.5em;`                                                                                           |
| [EWBP#27](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_027_fr.md) | CSS print not included                                           | 🚫   | 🚫  | 🚫         | 🚫     | 🚫   |     | Templating / CSS                 | 1        | 3         |                                    | Reduction in the number of printed pages                                                                                                                                                                                |
| [EWBP#29](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_029_fr.md) | Non-standard fonts used                                          | 🚫   | 🚫  | 🚫         | 🚫     | 🚫   |     | Templating / Front               | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#32](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_032_fr.md) | Non-outsourced CSS and Javascript                                | 🚫   | 🚫  |            | 🚫     | 🚫   |     | Templating / HTML                | 1        | 3         |                                    | CSS and JavaScript codes must not be embedded in the HTML code of the page                                                                                                                                              |
| [EWBP#33](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_033_fr.md) | Image tags containing an empty SRC attribute                     | 🚫   | 🚫  | 🚫         | 🚫     | 🚫   |     | Templating / Images              | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#34](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_034_fr.md) | Resize images outside the browser                                | 🚫   | 🚫  | ✅          | 🚫     | 🚫   | 🚫  | Templating / Images              | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#36](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_036_fr.md) | Use unoptimized vector images                                    |      |     |            |        |      |     | Templating / Images              | 1        | 3         |                                    | Delete layer information, comments, etc.                                                                                                                                                                                |
| [EWBP#39](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_039_fr.md) | Using too many CSS/javascript animations                         | 🚫   | 🚫  | ✅          | 🚫     | 🚫   |     | Client code / CSS/Javascript     | 1        | 3         |                                    | **⚠️ Need to define a threshold for the number of animations that is too high**                                                                                                                                         |
| [EWBP#41](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_041_fr.md) | Modify the DOM when traversing it                                | 🚫   | 🚫  | ✅          | 🚫     | 🚫   |     | Client code / DOM                | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#42](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_042_fr.md) | Edit DOM elements to make it invisible                           | 🚫   | 🚫  |            | 🚫     | 🚫   |     | Client code / DOM                | 2        | 2         |                                    |                                                                                                                                                                                                                         |
| [EWBP#45](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_045_fr.md) | Modify a CSS property directly                                   | 🚫   | 🚫  |            | 🚫     | 🚫   |     | Client code / Javascript         | 1        | 3         |                                    | Prioritize modification of CSS classes                                                                                                                                                                                  |
| [EWBP#47](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_047_fr.md) | Using try...catch...finally calls                                |      | ✅   |            | ✅      |      |     | Client code / Javascript         | 3        | 1         |                                    | Prioritize logical tests                                                                                                                                                                                                |
| [EWBP#48](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_048_fr.md) | The use of methods for basic operations                          |      |     |            |        |      |     | Client code / Javascript         | 3        | 1         |                                    | Prioritize primitive operations                                                                                                                                                                                         |
| [EWBP#49](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_049_fr.md) | Call a DOM element multiple times without caching                | 🚫   | 🚫  | ✅          | 🚫     | 🚫   |     | Client code / Javascript         | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#50](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_050_fr.md) | Use global variables                                             | ✅    |     |            |        |      | ✅   | Client code / Javascript         | 3        | 1         |                                    |                                                                                                                                                                                                                         |
| [EWBP#52](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_052_fr.md) | Using strings as arguments to `setTimeout()` and `setInterval()` | 🚫   | 🚫  | ✅          | 🚫     | 🚫   |     | Client code / Javascript         | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#53](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_053_fr.md) | Using for...in loops                                             | ✅    |     |            |        |      |     | Client code / Javascript         | 2        | 2         |                                    |                                                                                                                                                                                                                         |
| [EWBP#62](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_062_fr.md) | Rewrite native getter/setters                                    |      |     |            | ✅      |      |     | Server code / Application server | 2        | 2         |                                    |                                                                                                                                                                                                                         |
| [EWBP#63](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_063_fr.md) | Unnecessarily assigning values to variables                      | ✅    |     |            |        |      |     | Server code / Application server | 3        | 1         |                                    |                                                                                                                                                                                                                         |
| [EWBP#66](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_066_fr.md) | Use single quote (`'`) instead of quotation mark (`"`)           |      | ✅   |            |        |      |     | Server code / Application server | 3        | 2         |                                    |                                                                                                                                                                                                                         |
| [EWBP#67](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_067_fr.md) | Use the $i++ variable during an iteration                        | ✅    | ✅   |            |        |      |     | Server code / Application server | 3        | 1         |                                    | Prioritize ++$i                                                                                                                                                                                                         |
| [EWBP#69](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_069_fr.md) | Calling a function in the declaration of a for loop              | ✅    | ✅   |            | ✅      |      |     | Server code / Application server | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#72](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_072_fr.md) | Perform an SQL query inside a loop                               | ✅    | ✅   |            | ✅      |      |     | Server code / Database           | 1        | 3         |                                    |                                                                                                                                                                                                                         |
| [EWBP#74](https://github.com/cnumr/best-practices/blob/v4.0.0/chapters/BP_074_fr.md) | Write `SELECT * FROM`                                            | ✅    | ✅   |            | ✅      |      |     | Server code / Database           | 1        | 3         |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Calling a Spring repository inside a loop                        | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Getting the size of the collection in the loop                   | ✅    |     |            |        |      |     |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Multiple `if`-`else` statement                                   | ✅    |     |            |        |      |     |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Usage of static collections                                      | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Usage `Pattern.compile()` in a non-static context                | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Concatenate Strings in loop                                      | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Const parameter in batch update                                  | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Free resources                                                   | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Initialize builder/buffer with the appropriate size              | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Optimize read file exceptions                                    | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | Usage of `preparedStatement` instead of `Statement`              | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
|                                                                                      | usage of `System.arraycopy` to copy arrays                       | ✅    | 🚫  | 🚫         | 🚫     | 🚫   | 🚫  |                                  |          |           |                                    |                                                                                                                                                                                                                         |
